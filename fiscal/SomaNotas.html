<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soma de Valores de Notas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        textarea {
            width: 100%;
            max-width: 500px;
            height: 200px;
            margin: 10px 0;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
        }
        #resultado {
            margin-top: 20px;
            font-weight: bold;
        }
        input[type="file"] {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Soma de Valores de Notas</h1>
    <p>Insira os nomes dos arquivos (um por linha) ou faça upload dos arquivos:</p>
    <input type="file" id="inputArquivos" multiple accept="*">
    <br>
    <textarea id="nomesArquivos" placeholder="Nomes dos arquivos aparecerão aqui após o upload ou podem ser inseridos manualmente.&#10;Exemplo:&#10;31.08.2025 .-. 31.08.2025 - 250 NOTAS&#10;01.09.2025 .-. 01.09.2025 - 100 NOTAS"></textarea>
    <br>
    <button onclick="calcularSoma()">Calcular Soma</button>
    <div id="resultado"></div>

    <script>
        document.getElementById('inputArquivos').addEventListener('change', function(event) {
            const arquivos = event.target.files;
            const textarea = document.getElementById('nomesArquivos');
            let nomes = '';

            for (let i = 0; i < arquivos.length; i++) {
                nomes += arquivos[i].name + '\n';
            }

            textarea.value = nomes;
        });

        function calcularSoma() {
            const input = document.getElementById('nomesArquivos').value;
            const linhas = input.split('\n').filter(linha => linha.trim() !== '');
            let soma = 0;

            linhas.forEach(linha => {
                const match = linha.match(/- (\d+) NOTAS/);
                if (match) {
                    const valor = parseInt(match[1], 10);
                    if (!isNaN(valor)) {
                        soma += valor;
                    }
                }
            });

            document.getElementById('resultado').innerText = `Soma total: ${soma} NOTAS`;
        }
    </script>
</body>
</html>
